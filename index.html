<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="stylesheet" href="codex_style.css">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CodeX</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Ubuntu+Mono:ital,wght@0,400;0,700;1,400;1,700&display=swap" rel="stylesheet">
</head>
<body>
    <div id="stars"></div>
    <div>
        <h1 class="header1">CodeX</h1>
        <h2 class="header2">Your AI coding assistant</h2>
    </div>
    <div class="container1">
        <textarea class="textinput" id="input" placeholder="Input code here..."></textarea>
    </div>
    <div>
        <button class="submitbtn" onclick="ask()">Submit</button>
    </div>
    <div class="container2">
        <p id="output" class="textoutput">   </p>
    </div>

</body>
<script src="https://apifreellm.com/apifree.min.js"></script>
<script>
    function createStars(i) {
    for (var i; i; i--) {
      drawStars();
    }
    }

    function drawStars(){
      var tmpStar = document.createElement('figure')
      tmpStar.className = "star";
      tmpStar.style.top = 100*Math.random()+'%';
      tmpStar.style.left = 100*Math.random()+'%';
      document.getElementById('stars').appendChild(tmpStar);
    }
    createStars(200);

  async function ask(){
    const input = document.getElementById('input');
    const o = document.getElementById('output');
    o.textContent = 'Thinking...';
    try {
      const userText = input.value + " keep the answer short. your name is CodeX, but you dont need to mention thet on every message. but if someone asks, you are codeX and developed by Ilay Sch√∂nknecht. write your answer short but informative and helpfull. please give me optimization ideas for my code. if i have something wrong in my code, please correct it and give me the working code, and say, what i did wrong. if the question isnt programming related, write as output: Sorry, im only optimized for programming questions.";
      
      const r = await apifree.chat(userText);
      o.textContent = r;
    } catch(e){
      o.textContent = 'Error: ' + e;
    }
  }
</script>

</html>
